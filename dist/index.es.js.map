{"version":3,"file":"index.es.js","sources":["../src/utils.js","../src/hooks/useTableState.js","../src/hooks/useTable.js","../src/hooks/useColumns.js","../src/hooks/useRows.js","../src/actions.js","../src/hooks/useExpanded.js","../src/filterTypes.js","../src/hooks/useFilters.js","../src/aggregations.js","../src/hooks/useGroupBy.js","../src/sortTypes.js","../src/hooks/useSortBy.js","../src/hooks/usePagination.js","../src/hooks/useFlexLayout.js","../src/hooks/useTokenPagination.js"],"sourcesContent":["import React from 'react'\n\nexport function getBy(obj, path, def) {\n  if (!path) {\n    return obj\n  }\n  const pathObj = makePathArray(path)\n  let val\n  try {\n    val = pathObj.reduce((cursor, pathPart) => cursor[pathPart], obj)\n  } catch (e) {\n    // continue regardless of error\n  }\n  return typeof val !== 'undefined' ? val : def\n}\n\nexport function defaultOrderByFn(arr, funcs, dirs) {\n  return [...arr].sort((rowA, rowB) => {\n    for (let i = 0; i < funcs.length; i += 1) {\n      const sortFn = funcs[i]\n      const desc = dirs[i] === false || dirs[i] === 'desc'\n      const sortInt = sortFn(rowA, rowB)\n      if (sortInt !== 0) {\n        return desc ? -sortInt : sortInt\n      }\n    }\n    return dirs[0] ? rowA.index - rowB.index : rowB.index - rowA.index\n  })\n}\n\nexport function getFirstDefined(...args) {\n  for (let i = 0; i < args.length; i += 1) {\n    if (typeof args[i] !== 'undefined') {\n      return args[i]\n    }\n  }\n}\n\nexport function defaultGroupByFn(rows, grouper) {\n  return rows.reduce((prev, row, i) => {\n    const resKey =\n      typeof grouper === 'function'\n        ? grouper(row.values, i)\n        : row.values[grouper]\n    prev[resKey] = Array.isArray(prev[resKey]) ? prev[resKey] : []\n    prev[resKey].push(row)\n    return prev\n  }, {})\n}\n\nexport function setBy(obj = {}, path, value) {\n  const recurse = (obj, depth = 0) => {\n    const key = path[depth]\n    const target = typeof obj[key] !== 'object' ? {} : obj[key]\n    const subValue =\n      depth === path.length - 1 ? value : recurse(target, depth + 1)\n    return {\n      ...obj,\n      [key]: subValue,\n    }\n  }\n\n  return recurse(obj)\n}\n\nexport function getElementDimensions(element) {\n  const rect = element.getBoundingClientRect()\n  const style = window.getComputedStyle(element)\n  const margins = {\n    left: parseInt(style.marginLeft),\n    right: parseInt(style.marginRight),\n  }\n  const padding = {\n    left: parseInt(style.paddingLeft),\n    right: parseInt(style.paddingRight),\n  }\n  return {\n    left: Math.ceil(rect.left),\n    width: Math.ceil(rect.width),\n    outerWidth: Math.ceil(\n      rect.width + margins.left + margins.right + padding.left + padding.right\n    ),\n    marginLeft: margins.left,\n    marginRight: margins.right,\n    paddingLeft: padding.left,\n    paddingRight: padding.right,\n    scrollWidth: element.scrollWidth,\n  }\n}\n\nexport function flexRender(Comp, props) {\n  if (typeof Comp === 'function') {\n    return Object.getPrototypeOf(Comp).isReactComponent ? (\n      <Comp {...props} />\n    ) : (\n      Comp(props)\n    )\n  }\n  return Comp\n}\n\nexport const mergeProps = (...groups) => {\n  let props = {}\n  groups.forEach(({ style = {}, className, ...rest } = {}) => {\n    props = {\n      ...props,\n      ...rest,\n      style: {\n        ...(props.style || {}),\n        ...style,\n      },\n      className: [props.className, className].filter(Boolean).join(' '),\n    }\n  })\n  return props\n}\n\nexport const applyHooks = (hooks, initial, ...args) =>\n  hooks.reduce((prev, next) => next(prev, ...args), initial)\n\nexport const applyPropHooks = (hooks, ...args) =>\n  hooks.reduce((prev, next) => mergeProps(prev, next(...args)), {})\n\nexport const warnUnknownProps = props => {\n  if (Object.keys(props).length) {\n    throw new Error(\n      `Unknown options passed to useReactTable:\n\n${JSON.stringify(props, null, 2)}`\n    )\n  }\n}\n\nexport function sum(arr) {\n  return arr.reduce((prev, curr) => prev + curr, 0)\n}\n\nexport function isFunction(a) {\n  if (typeof a === 'function') {\n    return a\n  }\n}\n\nfunction makePathArray(obj) {\n  return flattenDeep(obj)\n    .join('.')\n    .replace(/\\[/g, '.')\n    .replace(/\\]/g, '')\n    .split('.')\n}\n\nfunction flattenDeep(arr, newArr = []) {\n  if (!Array.isArray(arr)) {\n    newArr.push(arr)\n  } else {\n    for (let i = 0; i < arr.length; i += 1) {\n      flattenDeep(arr[i], newArr)\n    }\n  }\n  return newArr\n}\n","import React from 'react'\n\nexport const defaultState = {}\n\nconst defaultReducer = (old, newState) => newState\n\nexport const useTableState = (\n  initialState = {},\n  overrides,\n  { reducer = defaultReducer, useState: userUseState = React.useState } = {}\n) => {\n  let [state, setState] = userUseState({\n    ...defaultState,\n    ...initialState,\n  })\n\n  const overriddenState = React.useMemo(() => {\n    const newState = {\n      ...state,\n    }\n    if (overrides) {\n      Object.keys(overrides).forEach(key => {\n        newState[key] = overrides[key]\n      })\n    }\n    return newState\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [overrides, state])\n\n  const reducedSetState = React.useCallback(\n    (updater, type) =>\n      setState(old => {\n        const newState = updater(old)\n        return reducer(old, newState, type)\n      }),\n    [reducer, setState]\n  )\n\n  return React.useMemo(() => [overriddenState, reducedSetState], [\n    overriddenState,\n    reducedSetState,\n  ])\n}\n","import PropTypes from 'prop-types'\n//\nimport { flexRender, applyHooks, applyPropHooks, mergeProps } from '../utils'\n\nimport { useTableState } from './useTableState'\n\nconst renderErr =\n  'You must specify a render \"type\". This could be \"Header\", \"Filter\", or any other custom renderers you have set on your column.'\n\nconst propTypes = {\n  // General\n  data: PropTypes.array.isRequired,\n  debug: PropTypes.bool,\n}\n\nexport const useTable = (props, ...plugins) => {\n  // Validate props\n  PropTypes.checkPropTypes(propTypes, props, 'property', 'useTable')\n\n  // Destructure props\n  let { data = [], state: userState, debug } = props\n\n  debug = process.env.NODE_ENV === 'production' ? false : debug\n\n  // Always provide a default state\n  const defaultState = useTableState()\n\n  // But use the users state if provided\n  const state = userState || defaultState\n\n  // These are hooks that plugins can use right before render\n  const hooks = {\n    beforeRender: [],\n    columns: [],\n    headers: [],\n    headerGroups: [],\n    rows: [],\n    row: [],\n    renderableRows: [],\n    getTableProps: [],\n    getRowProps: [],\n    getHeaderRowProps: [],\n    getHeaderProps: [],\n    getCellProps: [],\n  }\n\n  // The initial api\n  let api = {\n    ...props,\n    data,\n    state,\n    hooks,\n  }\n\n  if (debug) console.time('hooks')\n  // Loop through plugins to build the api out\n  api = plugins.filter(Boolean).reduce((prev, next) => next(prev), api)\n  if (debug) console.timeEnd('hooks')\n\n  // Run the beforeRender hook\n  if (debug) console.time('hooks.beforeRender')\n  applyHooks(api.hooks.beforeRender, undefined, api)\n  if (debug) console.timeEnd('hooks.beforeRender')\n\n  api.columns.forEach(column => {\n    column.visible =\n      typeof column.show === 'function' ? column.show(api) : !!column.show\n  })\n\n  if (debug) console.time('hooks.columns')\n  api.columns = applyHooks(api.hooks.columns, api.columns, api)\n  if (debug) console.timeEnd('hooks.columns')\n\n  if (debug) console.time('hooks.headers')\n  api.headers = applyHooks(api.hooks.headers, api.headers, api)\n  if (debug) console.timeEnd('hooks.headers')\n  ;[...api.columns, ...api.headers].forEach(column => {\n    // Give columns/headers rendering power\n    column.render = (type, userProps = {}) => {\n      if (!type) {\n        throw new Error(renderErr)\n      }\n      return flexRender(column[type], {\n        ...api,\n        ...column,\n        ...userProps,\n      })\n    }\n\n    // Give columns/headers getHeaderProps\n    column.getHeaderProps = props =>\n      mergeProps(\n        {\n          key: ['header', column.id].join('_'),\n          colSpan: column.columns ? column.columns.length : 1,\n        },\n        applyPropHooks(api.hooks.getHeaderProps, column, api),\n        props\n      )\n  })\n\n  if (debug) console.time('hooks.headerGroups')\n  api.headerGroups = applyHooks(\n    api.hooks.headerGroups,\n    api.headerGroups,\n    api\n  ).filter((headerGroup, i) => {\n    // Filter out any headers and headerGroups that don't have visible columns\n    headerGroup.headers = headerGroup.headers.filter(header => {\n      const recurse = columns =>\n        columns.filter(column => {\n          if (column.columns) {\n            return recurse(column.columns)\n          }\n          return column.visible\n        }).length\n      if (header.columns) {\n        return recurse(header.columns)\n      }\n      return header.visible\n    })\n\n    // Give headerGroups getRowProps\n    if (headerGroup.headers.length) {\n      headerGroup.getRowProps = (props = {}) =>\n        mergeProps(\n          {\n            key: [`header${i}`].join('_'),\n          },\n          applyPropHooks(api.hooks.getHeaderRowProps, headerGroup, api),\n          props\n        )\n      return true\n    }\n\n    return false\n  })\n  if (debug) console.timeEnd('hooks.headerGroups')\n\n  // Run the rows (this could be a dangerous hook with a ton of data)\n  if (debug) console.time('hooks.rows')\n  api.rows = applyHooks(api.hooks.rows, api.rows, api)\n  if (debug) console.timeEnd('hooks.rows')\n\n  // The prepareRow function is absolutely necessary and MUST be called on\n  // any rows the user wishes to be displayed.\n\n  api.prepareRow = row => {\n    const { path } = row\n    row.getRowProps = props =>\n      mergeProps(\n        { key: ['row', ...path].join('_') },\n        applyPropHooks(api.hooks.getRowProps, row, api),\n        props\n      )\n\n    // need to apply any row specific hooks (useExpanded requires this)\n    applyHooks(api.hooks.row, row, api)\n\n    const visibleColumns = api.columns.filter(column => column.visible)\n\n    // Build the cells for each row\n    row.cells = visibleColumns.map(column => {\n      const cell = {\n        column,\n        row,\n        value: row.values[column.id],\n      }\n\n      cell.getCellProps = props => {\n        const columnPathStr = [path, column.id].join('_')\n        return mergeProps(\n          {\n            key: ['cell', columnPathStr].join('_'),\n          },\n          applyPropHooks(api.hooks.getCellProps, cell, api),\n          props\n        )\n      }\n\n      cell.render = (type, userProps = {}) => {\n        if (!type) {\n          throw new Error(\n            'You must specify a render \"type\". This could be \"Cell\", \"Header\", \"Filter\", \"Aggregated\" or any other custom renderers you have set on your column.'\n          )\n        }\n        return flexRender(column[type], {\n          ...api,\n          ...cell,\n          ...userProps,\n        })\n      }\n\n      return cell\n    })\n  }\n\n  api.getTableProps = userProps =>\n    mergeProps(applyPropHooks(api.hooks.getTableProps, api), userProps)\n\n  api.getRowProps = userProps =>\n    mergeProps(applyPropHooks(api.hooks.getRowProps, undefined, api), userProps)\n\n  return api\n}\n","import { useMemo } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { getBy } from '../utils'\n\nconst propTypes = {\n  // General\n  columns: PropTypes.arrayOf(\n    PropTypes.shape({\n      Cell: PropTypes.any,\n      Header: PropTypes.any,\n    })\n  ),\n}\n\n// Find the depth of the columns\nfunction findMaxDepth(columns, depth = 0) {\n  return columns.reduce((prev, curr) => {\n    if (curr.columns) {\n      return Math.max(prev, findMaxDepth(curr.columns, depth + 1))\n    }\n    return depth\n  }, 0)\n}\n\nfunction decorateColumn(column, parent) {\n  // First check for string accessor\n  let { id, accessor, Header } = column\n\n  if (typeof accessor === 'string') {\n    id = id || accessor\n    const accessorString = accessor\n    accessor = row => getBy(row, accessorString)\n  }\n\n  if (!id && typeof Header === 'string') {\n    id = Header\n  }\n\n  if (!id) {\n    // Accessor, but no column id? This is bad.\n    console.error(column)\n    throw new Error('A column ID (or string accessor) is required!')\n  }\n\n  column = {\n    Header: '',\n    Cell: cell => cell.value,\n    show: true,\n    ...column,\n    id,\n    accessor,\n    parent,\n  }\n\n  return column\n}\n\n// Build the visible columns, headers and flat column list\nfunction decorateColumnTree(columns, parent, depth = 0) {\n  return columns.map(column => {\n    column = decorateColumn(column, parent)\n    if (column.columns) {\n      column.columns = decorateColumnTree(column.columns, column, depth + 1)\n    }\n    return column\n  })\n}\n\n// Build the header groups from the bottom up\nfunction makeHeaderGroups(columns, maxDepth) {\n  const headerGroups = []\n\n  const removeChildColumns = column => {\n    delete column.columns\n    if (column.parent) {\n      removeChildColumns(column.parent)\n    }\n  }\n  columns.forEach(removeChildColumns)\n\n  const buildGroup = (columns, depth = 0) => {\n    const headerGroup = {\n      headers: [],\n    }\n\n    const parentColumns = []\n\n    const hasParents = columns.some(col => col.parent)\n\n    columns.forEach(column => {\n      const isFirst = !parentColumns.length\n      let latestParentColumn = [...parentColumns].reverse()[0]\n\n      // If the column has a parent, add it if necessary\n      if (column.parent) {\n        if (isFirst || latestParentColumn.originalID !== column.parent.id) {\n          parentColumns.push({\n            ...column.parent,\n            originalID: column.parent.id,\n            id: [column.parent.id, parentColumns.length].join('_'),\n          })\n        }\n      } else if (hasParents) {\n        // If other columns have parents, add a place holder if necessary\n        const placeholderColumn = decorateColumn({\n          originalID: [column.id, 'placeholder', maxDepth - depth].join('_'),\n          id: [\n            column.id,\n            'placeholder',\n            maxDepth - depth,\n            parentColumns.length,\n          ].join('_'),\n        })\n        if (\n          isFirst ||\n          latestParentColumn.originalID !== placeholderColumn.originalID\n        ) {\n          parentColumns.push(placeholderColumn)\n        }\n      }\n\n      // Establish the new columns[] relationship on the parent\n      if (column.parent || hasParents) {\n        latestParentColumn = [...parentColumns].reverse()[0]\n        latestParentColumn.columns = latestParentColumn.columns || []\n        if (!latestParentColumn.columns.includes(column)) {\n          latestParentColumn.columns.push(column)\n        }\n      }\n\n      headerGroup.headers.push(column)\n    })\n\n    headerGroups.push(headerGroup)\n\n    if (parentColumns.length) {\n      buildGroup(parentColumns)\n    }\n  }\n\n  buildGroup(columns)\n\n  return headerGroups.reverse()\n}\n\nexport const useColumns = props => {\n  const {\n    debug,\n    columns: userColumns,\n    state: [{ groupBy }],\n  } = props\n\n  PropTypes.checkPropTypes(propTypes, props, 'property', 'useColumns')\n\n  const { columns, headerGroups, headers } = useMemo(() => {\n    if (debug) console.info('getColumns')\n\n    // Decorate All the columns\n    let columnTree = decorateColumnTree(userColumns)\n\n    // Get the flat list of all columns\n    let columns = flattenBy(columnTree, 'columns')\n\n    columns = [\n      ...groupBy.map(g => columns.find(col => col.id === g)),\n      ...columns.filter(col => !groupBy.includes(col.id)),\n    ]\n\n    // Get headerGroups\n    const headerGroups = makeHeaderGroups(columns, findMaxDepth(columnTree))\n    const headers = flattenBy(headerGroups, 'headers')\n\n    return {\n      columns,\n      headerGroups,\n      headers,\n    }\n  }, [debug, groupBy, userColumns])\n\n  return {\n    ...props,\n    columns,\n    headerGroups,\n    headers,\n  }\n\n  function flattenBy(columns, childKey) {\n    const flatColumns = []\n\n    const recurse = columns => {\n      columns.forEach(d => {\n        if (!d[childKey]) {\n          flatColumns.push(d)\n        } else {\n          recurse(d[childKey])\n        }\n      })\n    }\n\n    recurse(columns)\n\n    return flatColumns\n  }\n}\n","import { useMemo } from 'react'\nimport PropTypes from 'prop-types'\n\nconst propTypes = {\n  subRowsKey: PropTypes.string,\n}\n\nexport const useRows = props => {\n  PropTypes.checkPropTypes(propTypes, props, 'property', 'useRows')\n\n  const { debug, columns, subRowsKey = 'subRows', data } = props\n\n  const accessedRows = useMemo(() => {\n    if (debug) console.info('getAccessedRows')\n\n    // Access the row's data\n    const accessRow = (originalRow, i, depth = 0) => {\n      // Keep the original reference around\n      const original = originalRow\n\n      // Process any subRows\n      const subRows = originalRow[subRowsKey]\n        ? originalRow[subRowsKey].map((d, i) => accessRow(d, i, depth + 1))\n        : undefined\n\n      const row = {\n        original,\n        index: i,\n        path: [i], // used to create a key for each row even if not nested\n        subRows,\n        depth,\n        cells: [{}], // This is a dummy cell\n      }\n\n      // Override common array functions (and the dummy cell's getCellProps function)\n      // to show an error if it is accessed without calling prepareRow\n      const unpreparedAccessWarning = () => {\n        throw new Error(\n          'React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.'\n        )\n      }\n      row.cells.map = unpreparedAccessWarning\n      row.cells.filter = unpreparedAccessWarning\n      row.cells.forEach = unpreparedAccessWarning\n      row.cells[0].getCellProps = unpreparedAccessWarning\n\n      // Create the cells and values\n      row.values = {}\n      columns.forEach(column => {\n        row.values[column.id] = column.accessor\n          ? column.accessor(originalRow, i, { subRows, depth, data })\n          : undefined\n      })\n\n      return row\n    }\n\n    // Use the resolved data\n    return data.map((d, i) => accessRow(d, i))\n  }, [debug, data, subRowsKey, columns])\n\n  return {\n    ...props,\n    rows: accessedRows,\n  }\n}\n","const actions = {}\n\nexport { actions }\n\nexport const addActions = acts => {\n  Object.keys(acts).forEach(key => {\n    actions[key] = acts[key]\n  })\n}\n","import { useMemo } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { getBy, getFirstDefined, setBy } from '../utils'\nimport { addActions, actions } from '../actions'\nimport { defaultState } from './useTableState'\n\ndefaultState.expanded = {}\n\naddActions({\n  toggleExpanded: '__toggleExpanded__',\n  useExpanded: '__useExpanded__',\n})\n\nconst propTypes = {\n  manualExpandedKey: PropTypes.string,\n  paginateSubRows: PropTypes.bool,\n}\n\nexport const useExpanded = props => {\n  PropTypes.checkPropTypes(propTypes, props, 'property', 'useExpanded')\n\n  const {\n    debug,\n    rows,\n    manualExpandedKey = 'expanded',\n    hooks,\n    state: [{ expanded }, setState],\n    paginateSubRows = true,\n  } = props\n\n  const toggleExpandedByPath = (path, set) => {\n    return setState(old => {\n      const { expanded } = old\n      const existing = getBy(expanded, path)\n      set = getFirstDefined(set, !existing)\n      return {\n        ...old,\n        expanded: setBy(expanded, path, set),\n      }\n    }, actions.toggleExpanded)\n  }\n\n  hooks.row.push(row => {\n    const { path } = row\n    row.toggleExpanded = set => toggleExpandedByPath(path, set)\n    return row\n  })\n\n  const expandedRows = useMemo(() => {\n    if (debug) console.info('getExpandedRows')\n\n    const expandedRows = []\n\n    // Here we do some mutation, but it's the last stage in the\n    // immutable process so this is safe\n    const handleRow = (row, depth = 0, parentPath = []) => {\n      // Compute some final state for the row\n      const path = [...parentPath, row.index]\n\n      row.path = path\n      row.depth = depth\n\n      row.isExpanded =\n        (row.original && row.original[manualExpandedKey]) ||\n        getBy(expanded, path)\n\n      if (paginateSubRows || (!paginateSubRows && row.depth === 0)) {\n        expandedRows.push(row)\n      }\n\n      if (row.isExpanded && row.subRows && row.subRows.length) {\n        row.subRows.forEach((row, i) => handleRow(row, depth + 1, path))\n      }\n\n      return row\n    }\n\n    rows.forEach(row => handleRow(row))\n\n    return expandedRows\n  }, [debug, rows, manualExpandedKey, expanded, paginateSubRows])\n\n  const expandedDepth = findExpandedDepth(expanded)\n\n  return {\n    ...props,\n    toggleExpandedByPath,\n    expandedDepth,\n    rows: expandedRows,\n  }\n}\n\nfunction findExpandedDepth(obj, depth = 1) {\n  return Object.values(obj).reduce((prev, curr) => {\n    if (typeof curr === 'object') {\n      return Math.max(prev, findExpandedDepth(curr, depth + 1))\n    }\n    return depth\n  }, 0)\n}\n","export const text = (rows, id, filterValue) => {\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    return rowValue !== undefined\n      ? String(rowValue)\n          .toLowerCase()\n          .includes(String(filterValue).toLowerCase())\n      : true\n  })\n}\n\nexport const exactText = (rows, id, filterValue) => {\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    return rowValue !== undefined\n      ? String(rowValue).toLowerCase() === String(filterValue).toLowerCase()\n      : true\n  })\n}\n\nexport const exactTextCase = (rows, id, filterValue) => {\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    return rowValue !== undefined\n      ? String(rowValue) === String(filterValue)\n      : true\n  })\n}\n\nexport const includes = (rows, id, filterValue) => {\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    return filterValue.includes(rowValue)\n  })\n}\n\nexport const includesAll = (rows, id, filterValue) => {\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    return filterValue.every(val => rowValue.includes(val))\n  })\n}\n\nexport const exact = (rows, id, filterValue) => {\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    return rowValue === filterValue\n  })\n}\n\nexport const between = (rows, id, filterValue) => {\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    return rowValue >= filterValue[0] && rowValue <= filterValue[1]\n  })\n}\n","import { useMemo } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { getFirstDefined, isFunction } from '../utils'\nimport * as filterTypes from '../filterTypes'\nimport { addActions, actions } from '../actions'\nimport { defaultState } from './useTableState'\n\ndefaultState.filters = {}\naddActions({\n  setFilter: '__setFilter__',\n  setAllFilters: '__setAllFilters__',\n})\n\nconst propTypes = {\n  // General\n  columns: PropTypes.arrayOf(\n    PropTypes.shape({\n      filterFn: PropTypes.func,\n      filterAll: PropTypes.bool,\n      canFilter: PropTypes.bool,\n      Filter: PropTypes.any,\n    })\n  ),\n\n  filterFn: PropTypes.func,\n  manualFilters: PropTypes.bool,\n}\n\nexport const useFilters = props => {\n  PropTypes.checkPropTypes(propTypes, props, 'property', 'useFilters')\n\n  const {\n    debug,\n    rows,\n    columns,\n    filterTypes: userFilterTypes = {},\n    defaultFilter = filterTypes.text,\n    manualFilters,\n    disableFilters,\n    hooks,\n    state: [{ filters }, setState],\n  } = props\n\n  const setFilter = (id, val) => {\n    return setState(old => {\n      if (typeof val === 'undefined') {\n        const { [id]: prev, ...rest } = filters\n        return {\n          ...old,\n          filters: {\n            ...rest,\n          },\n        }\n      }\n\n      return {\n        ...old,\n        filters: {\n          ...filters,\n          [id]: val,\n        },\n      }\n    }, actions.setFilter)\n  }\n\n  const setAllFilters = filters => {\n    return setState(old => {\n      return {\n        ...old,\n        filters,\n      }\n    }, actions.setAllFilters)\n  }\n\n  hooks.columns.push(columns => {\n    columns.forEach(column => {\n      const { id, accessor, canFilter } = column\n\n      // Determine if a column is filterable\n      column.canFilter = accessor\n        ? getFirstDefined(\n            canFilter,\n            disableFilters === true ? false : undefined,\n            true\n          )\n        : false\n\n      // Provide the column a way of updating the filter value\n      column.setFilter = val => setFilter(column.id, val)\n\n      // Provide the current filter value to the column for\n      // convenience\n      column.filterValue = filters[id]\n    })\n\n    return columns\n  })\n\n  const filteredRows = useMemo(() => {\n    if (manualFilters || !Object.keys(filters).length) {\n      return rows\n    }\n\n    if (debug) console.info('getFilteredRows')\n\n    // Filters top level and nested rows\n    const filterRows = rows => {\n      let filteredRows = rows\n\n      filteredRows = Object.entries(filters).reduce(\n        (filteredSoFar, [columnID, filterValue]) => {\n          // Find the filters column\n          const column = columns.find(d => d.id === columnID)\n\n          // Don't filter hidden columns or columns that have had their filters disabled\n          if (!column || column.filterable === false) {\n            return filteredSoFar\n          }\n\n          // Look up filter functions in this order:\n          // column function\n          // column string lookup on user filters\n          // column string lookup on built-in filters\n          // default function\n          // default string lookup on user filters\n          // default string lookup on built-in filters\n          const filterMethod =\n            isFunction(column.filter) ||\n            userFilterTypes[column.filter] ||\n            filterTypes[column.filter] ||\n            isFunction(defaultFilter) ||\n            userFilterTypes[defaultFilter] ||\n            filterTypes[defaultFilter]\n\n          if (!filterMethod) {\n            console.warn(\n              `Could not find a valid 'column.filter' for column with the ID: ${\n                column.id\n              }.`\n            )\n            return filteredSoFar\n          }\n\n          // Pass the rows, id, filterValue and column to the filterMethod\n          // to get the filtered rows back\n          return filterMethod(filteredSoFar, columnID, filterValue, column)\n        },\n        rows\n      )\n\n      // Apply the filter to any subRows\n      filteredRows = filteredRows.map(row => {\n        if (!row.subRows) {\n          return row\n        }\n        return {\n          ...row,\n          subRows: filterRows(row.subRows),\n        }\n      })\n\n      // then filter any rows without subcolumns because it would be strange to show\n      filteredRows = filteredRows.filter(row => {\n        if (!row.subRows) {\n          return true\n        }\n        return row.subRows.length > 0\n      })\n\n      return filteredRows\n    }\n\n    return filterRows(rows)\n  }, [\n    manualFilters,\n    filters,\n    debug,\n    rows,\n    columns,\n    userFilterTypes,\n    defaultFilter,\n  ])\n\n  return {\n    ...props,\n    setFilter,\n    setAllFilters,\n    rows: filteredRows,\n  }\n}\n","export function sum(values, rows) {\n  return values.reduce((sum, next) => sum + next, 0)\n}\n\nexport function average(values, rows) {\n  return Math.round((sum(values, rows) / values.length) * 100) / 100\n}\n","import { useMemo } from 'react'\nimport PropTypes from 'prop-types'\n\nimport * as aggregations from '../aggregations'\nimport { addActions, actions } from '../actions'\nimport { defaultState } from './useTableState'\nimport {\n  mergeProps,\n  applyPropHooks,\n  defaultGroupByFn,\n  getFirstDefined,\n} from '../utils'\n\ndefaultState.groupBy = []\n\naddActions({\n  toggleGroupBy: '__toggleGroupBy__',\n})\n\nconst propTypes = {\n  // General\n  columns: PropTypes.arrayOf(\n    PropTypes.shape({\n      aggregate: PropTypes.func,\n      canGroupBy: PropTypes.bool,\n      Aggregated: PropTypes.any,\n    })\n  ),\n  groupByFn: PropTypes.func,\n  manualGrouping: PropTypes.bool,\n  aggregations: PropTypes.object,\n}\n\nexport const useGroupBy = props => {\n  PropTypes.checkPropTypes(propTypes, props, 'property', 'useGroupBy')\n\n  const {\n    debug,\n    rows,\n    columns,\n    groupByFn = defaultGroupByFn,\n    manualGroupBy,\n    disableGrouping,\n    aggregations: userAggregations = {},\n    hooks,\n    state: [{ groupBy }, setState],\n  } = props\n\n  columns.forEach(column => {\n    const { id, accessor, canGroupBy } = column\n    column.grouped = groupBy.includes(id)\n\n    column.canGroupBy = accessor\n      ? getFirstDefined(\n          canGroupBy,\n          disableGrouping === true ? false : undefined,\n          true\n        )\n      : false\n\n    column.Aggregated = column.Aggregated || column.Cell\n  })\n\n  const toggleGroupBy = (id, toggle) => {\n    return setState(old => {\n      const resolvedToggle =\n        typeof toggle !== 'undefined' ? toggle : !groupBy.includes(id)\n      if (resolvedToggle) {\n        return {\n          ...old,\n          groupBy: [...groupBy, id],\n        }\n      }\n      return {\n        ...old,\n        groupBy: groupBy.filter(d => d !== id),\n      }\n    }, actions.toggleGroupBy)\n  }\n\n  hooks.columns.push(columns => {\n    columns.forEach(column => {\n      if (column.canGroupBy) {\n        column.toggleGroupBy = () => toggleGroupBy(column.id)\n      }\n    })\n    return columns\n  })\n\n  hooks.getGroupByToggleProps = []\n\n  const addGroupByToggleProps = (columns, api) => {\n    columns.forEach(column => {\n      const { canGroupBy } = column\n      column.getGroupByToggleProps = props => {\n        return mergeProps(\n          {\n            onClick: canGroupBy\n              ? e => {\n                  e.persist()\n                  column.toggleGroupBy()\n                }\n              : undefined,\n            style: {\n              cursor: canGroupBy ? 'pointer' : undefined,\n            },\n            title: 'Toggle GroupBy',\n          },\n          applyPropHooks(api.hooks.getGroupByToggleProps, column, api),\n          props\n        )\n      }\n    })\n    return columns\n  }\n\n  hooks.columns.push(addGroupByToggleProps)\n  hooks.headers.push(addGroupByToggleProps)\n\n  const groupedRows = useMemo(() => {\n    if (manualGroupBy || !groupBy.length) {\n      return rows\n    }\n    if (debug) console.info('getGroupedRows')\n    // Find the columns that can or are aggregating\n\n    // Uses each column to aggregate rows into a single value\n    const aggregateRowsToValues = rows => {\n      const values = {}\n      columns.forEach(column => {\n        const columnValues = rows.map(d => d.values[column.id])\n        let aggregate =\n          userAggregations[column.aggregate] ||\n          aggregations[column.aggregate] ||\n          column.aggregate\n        if (typeof aggregate === 'function') {\n          values[column.id] = aggregate(columnValues, rows)\n        } else if (aggregate) {\n          throw new Error(\n            `Invalid aggregate \"${aggregate}\" passed to column with ID: \"${\n              column.id\n            }\"`\n          )\n        } else {\n          values[column.id] = columnValues[0]\n        }\n      })\n      return values\n    }\n\n    // Recursively group the data\n    const groupRecursively = (rows, groupBy, depth = 0) => {\n      // This is the last level, just return the rows\n      if (depth >= groupBy.length) {\n        return rows\n      }\n\n      // Group the rows together for this level\n      let groupedRows = Object.entries(groupByFn(rows, groupBy[depth])).map(\n        ([groupByVal, subRows], index) => {\n          // Recurse to sub rows before aggregation\n          subRows = groupRecursively(subRows, groupBy, depth + 1)\n\n          const values = aggregateRowsToValues(subRows)\n\n          const row = {\n            groupByID: groupBy[depth],\n            groupByVal,\n            values,\n            subRows,\n            depth,\n            index,\n          }\n          return row\n        }\n      )\n\n      return groupedRows\n    }\n\n    // Assign the new data\n    return groupRecursively(rows, groupBy)\n  }, [\n    manualGroupBy,\n    groupBy,\n    debug,\n    rows,\n    columns,\n    userAggregations,\n    groupByFn,\n  ])\n\n  return {\n    ...props,\n    rows: groupedRows,\n  }\n}\n","const reSplitAlphaNumeric = /([0-9]+)/gm\n\n// Mixed sorting is slow, but very inclusive of many edge cases.\n// It handles numbers, mixed alphanumeric combinations, and even\n// null, undefined, and Infinity\nexport const alphaNumeric = (a, b) => {\n  // Force to strings (or \"\" for unsupported types)\n  a = toString(a)\n  b = toString(b)\n\n  // Split on number groups, but keep the delimiter\n  // Then remove falsey split values\n  a = a.split(reSplitAlphaNumeric).filter(Boolean)\n  b = b.split(reSplitAlphaNumeric).filter(Boolean)\n\n  // While\n  while (a.length && b.length) {\n    let aa = a.shift()\n    let bb = b.shift()\n\n    const an = parseInt(aa, 10)\n    const bn = parseInt(bb, 10)\n\n    const combo = [an, bn].sort()\n\n    // Both are string\n    if (isNaN(combo[0])) {\n      if (aa > bb) {\n        return 1\n      }\n      if (bb > aa) {\n        return -1\n      }\n      continue\n    }\n\n    // One is a string, one is a number\n    if (isNaN(combo[1])) {\n      return isNaN(an) ? -1 : 1\n    }\n\n    // Both are numbers\n    if (an > bn) {\n      return 1\n    }\n    if (bn > an) {\n      return -1\n    }\n  }\n\n  return a.length - b.length\n}\n\nexport function datetime(a, b) {\n  a = a.getTime()\n  b = b.getTime()\n  return numeric(a, b)\n}\n\nexport function numeric(a, b) {\n  return a === b ? 0 : a > b ? 1 : -1\n}\n\n// Utils\n\nfunction toString(a) {\n  if (typeof a === 'number') {\n    if (isNaN(a) || a === Infinity || a === -Infinity) {\n      return ''\n    }\n    return String(a)\n  }\n  if (typeof a === 'string') {\n    return a\n  }\n  return ''\n}\n","import { useMemo } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { addActions, actions } from '../actions'\nimport { defaultState } from './useTableState'\nimport * as sortTypes from '../sortTypes'\nimport {\n  mergeProps,\n  applyPropHooks,\n  getFirstDefined,\n  defaultOrderByFn,\n  isFunction,\n} from '../utils'\n\ndefaultState.sortBy = []\n\naddActions({\n  sortByChange: '__sortByChange__',\n})\n\nconst propTypes = {\n  // General\n  columns: PropTypes.arrayOf(\n    PropTypes.shape({\n      sortBy: PropTypes.func,\n      defaultSortDesc: PropTypes.bool,\n    })\n  ),\n  orderByFn: PropTypes.func,\n  sortTypes: PropTypes.object,\n  defaultSortType: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  manualSorting: PropTypes.bool,\n  disableSorting: PropTypes.bool,\n  defaultSortDesc: PropTypes.bool,\n  disableMultiSort: PropTypes.bool,\n  disableSortRemove: PropTypes.bool,\n}\n\nexport const useSortBy = props => {\n  PropTypes.checkPropTypes(propTypes, props, 'property', 'useSortBy')\n\n  const {\n    debug,\n    rows,\n    columns,\n    orderByFn = defaultOrderByFn,\n    defaultSort = 'alphanumeric',\n    sortTypes: userSortTypes = {},\n    manualSorting,\n    disableSorting,\n    defaultSortDesc,\n    disableSortRemove,\n    disableMultiSort,\n    hooks,\n    state: [{ sortBy }, setState],\n  } = props\n\n  columns.forEach(column => {\n    const { accessor, canSortBy } = column\n    column.canSortBy = accessor\n      ? getFirstDefined(\n          canSortBy,\n          disableSorting === true ? false : undefined,\n          true\n        )\n      : false\n  })\n\n  // Updates sorting based on a columnID, desc flag and multi flag\n  const toggleSortByID = (columnID, desc, multi) => {\n    return setState(old => {\n      const { sortBy } = old\n\n      // Find the column for this columnID\n      const column = columns.find(d => d.id === columnID)\n      const resolvedDefaultSortDesc = getFirstDefined(\n        column.defaultSortDesc,\n        defaultSortDesc\n      )\n\n      // Find any existing sortBy for this column\n      const existingSortBy = sortBy.find(d => d.id === columnID)\n      const hasDescDefined = typeof desc !== 'undefined' && desc !== null\n\n      let newSortBy = []\n\n      // What should we do with this filter?\n      let action\n\n      if (disableMultiSort || !multi) {\n        if (sortBy.length <= 1 && existingSortBy) {\n          if (\n            (existingSortBy.desc && !resolvedDefaultSortDesc) ||\n            (!existingSortBy.desc && resolvedDefaultSortDesc)\n          ) {\n            action = disableSortRemove ? 'toggle' : 'remove'\n          } else {\n            action = 'toggle'\n          }\n        } else {\n          action = 'replace'\n        }\n      } else {\n        if (!existingSortBy) {\n          action = 'add'\n        } else {\n          if (hasDescDefined) {\n            action = 'set'\n          } else {\n            action = 'toggle'\n          }\n        }\n      }\n\n      if (action === 'replace') {\n        newSortBy = [\n          {\n            id: columnID,\n            desc: hasDescDefined ? desc : resolvedDefaultSortDesc,\n          },\n        ]\n      } else if (action === 'add') {\n        newSortBy = [\n          ...sortBy,\n          {\n            id: columnID,\n            desc: hasDescDefined ? desc : resolvedDefaultSortDesc,\n          },\n        ]\n      } else if (action === 'set') {\n        newSortBy = sortBy.map(d => {\n          if (d.id === columnID) {\n            return {\n              ...d,\n              desc,\n            }\n          }\n          return d\n        })\n      } else if (action === 'toggle') {\n        newSortBy = sortBy.map(d => {\n          if (d.id === columnID) {\n            return {\n              ...d,\n              desc: !existingSortBy.desc,\n            }\n          }\n          return d\n        })\n      } else if (action === 'remove') {\n        newSortBy = []\n      }\n\n      return {\n        ...old,\n        sortBy: newSortBy,\n      }\n    }, actions.sortByChange)\n  }\n\n  hooks.columns.push(columns => {\n    columns.forEach(column => {\n      if (column.canSortBy) {\n        column.toggleSortBy = (desc, multi) =>\n          toggleSortByID(column.id, desc, multi)\n      }\n    })\n    return columns\n  })\n\n  hooks.getSortByToggleProps = []\n\n  const addSortByToggleProps = (columns, api) => {\n    columns.forEach(column => {\n      const { canSortBy } = column\n      column.getSortByToggleProps = props => {\n        return mergeProps(\n          {\n            onClick: canSortBy\n              ? e => {\n                  e.persist()\n                  column.toggleSortBy(\n                    undefined,\n                    !api.disableMultiSort && e.shiftKey\n                  )\n                }\n              : undefined,\n            style: {\n              cursor: canSortBy ? 'pointer' : undefined,\n            },\n            title: 'Toggle SortBy',\n          },\n          applyPropHooks(api.hooks.getSortByToggleProps, column, api),\n          props\n        )\n      }\n    })\n    return columns\n  }\n\n  hooks.columns.push(addSortByToggleProps)\n  hooks.headers.push(addSortByToggleProps)\n\n  // Mutate columns to reflect sorting state\n  columns.forEach(column => {\n    const { id } = column\n    column.sorted = sortBy.find(d => d.id === id)\n    column.sortedIndex = sortBy.findIndex(d => d.id === id)\n    column.sortedDesc = column.sorted ? column.sorted.desc : undefined\n  })\n\n  const sortedRows = useMemo(() => {\n    if (manualSorting || !sortBy.length) {\n      return rows\n    }\n    if (debug) console.info('getSortedRows')\n\n    const sortTypesByColumnID = {}\n\n    columns.forEach(col => {\n      sortTypesByColumnID[col.id] = col.sortBy\n    })\n\n    const sortData = rows => {\n      // Use the orderByFn to compose multiple sortBy's together.\n      // This will also perform a stable sorting using the row index\n      // if needed.\n      const sortedData = orderByFn(\n        rows,\n        sortBy.map(sort => {\n          // Support custom sorting methods for each column\n          const columnSort = sortTypesByColumnID[sort.id]\n\n          // Look up sortBy functions in this order:\n          // column function\n          // column string lookup on user sortType\n          // column string lookup on built-in sortType\n          // default function\n          // default string lookup on user sortType\n          // default string lookup on built-in sortType\n          const sortMethod =\n            isFunction(columnSort) ||\n            userSortTypes[columnSort] ||\n            sortTypes[columnSort] ||\n            isFunction(defaultSort) ||\n            userSortTypes[defaultSort] ||\n            sortTypes[defaultSort]\n\n          // Return the correct sortFn\n          return (a, b) =>\n            sortMethod(a.values[sort.id], b.values[sort.id], sort.desc)\n        }),\n        // Map the directions\n        sortBy.map(d => !d.desc)\n      )\n\n      // If there are sub-rows, sort them\n      sortedData.forEach(row => {\n        if (!row.subRows) {\n          return\n        }\n        row.subRows = sortData(row.subRows)\n      })\n\n      return sortedData\n    }\n\n    return sortData(rows)\n  }, [\n    manualSorting,\n    sortBy,\n    debug,\n    columns,\n    rows,\n    orderByFn,\n    userSortTypes,\n    defaultSort,\n  ])\n\n  return {\n    ...props,\n    rows: sortedRows,\n  }\n}\n","import { useMemo, useLayoutEffect } from 'react'\nimport PropTypes from 'prop-types'\n\n//\nimport { addActions, actions } from '../actions'\nimport { defaultState } from './useTableState'\n\ndefaultState.pageSize = 10\ndefaultState.pageIndex = 0\n\naddActions({\n  pageChange: '__pageChange__',\n  pageSizeChange: '__pageSizeChange__',\n})\n\nconst propTypes = {\n  // General\n  manualPagination: PropTypes.bool,\n}\n\nexport const usePagination = props => {\n  PropTypes.checkPropTypes(propTypes, props, 'property', 'usePagination')\n\n  const {\n    rows,\n    manualPagination,\n    disablePageResetOnDataChange,\n    debug,\n    state: [\n      {\n        pageSize,\n        pageIndex,\n        pageCount: userPageCount,\n        filters,\n        groupBy,\n        sortBy,\n      },\n      setState,\n    ],\n  } = props\n\n  const pageOptions = useMemo(\n    () => [...new Array(userPageCount)].map((d, i) => i),\n    [userPageCount]\n  )\n\n  const rowDep = disablePageResetOnDataChange ? null : rows\n\n  useLayoutEffect(() => {\n    setState(\n      old => ({\n        ...old,\n        pageIndex: 0,\n      }),\n      actions.pageChange\n    )\n  }, [setState, rowDep, filters, groupBy, sortBy])\n\n  const { pages, pageCount } = useMemo(() => {\n    if (manualPagination) {\n      return {\n        pages: [rows],\n        pageCount: userPageCount,\n      }\n    }\n    if (debug) console.info('getPages')\n\n    // Create a new pages with the first page ready to go.\n    const pages = rows.length ? [] : [[]]\n\n    // Start the pageIndex and currentPage cursors\n    let cursor = 0\n    while (cursor < rows.length) {\n      const end = cursor + pageSize\n      pages.push(rows.slice(cursor, end))\n      cursor = end\n    }\n\n    const pageCount = pages.length\n\n    return {\n      pages,\n      pageCount,\n      pageOptions,\n    }\n  }, [manualPagination, debug, rows, pageOptions, userPageCount, pageSize])\n\n  const page = manualPagination ? rows : pages[pageIndex] || []\n  const canPreviousPage = pageIndex > 0\n  const canNextPage = pageIndex < pageCount - 1\n\n  const gotoPage = pageIndex => {\n    if (debug) console.info('gotoPage')\n    return setState(old => {\n      if (pageIndex < 0 || pageIndex > pageCount - 1) {\n        return old\n      }\n      return {\n        ...old,\n        pageIndex,\n      }\n    }, actions.pageChange)\n  }\n\n  const previousPage = () => {\n    return gotoPage(pageIndex - 1)\n  }\n\n  const nextPage = () => {\n    return gotoPage(pageIndex + 1)\n  }\n\n  const setPageSize = pageSize => {\n    setState(old => {\n      const topRowIndex = old.pageSize * old.pageIndex\n      const pageIndex = Math.floor(topRowIndex / pageSize)\n      return {\n        ...old,\n        pageIndex,\n        pageSize,\n      }\n    }, actions.pageSizeChange)\n  }\n\n  return {\n    ...props,\n    pages,\n    pageOptions,\n    pageCount,\n    page,\n    canPreviousPage,\n    canNextPage,\n    gotoPage,\n    previousPage,\n    nextPage,\n    setPageSize,\n    pageIndex,\n    pageSize,\n  }\n}\n","import PropTypes from 'prop-types'\n\nimport { getFirstDefined, sum } from '../utils'\n\nexport const actions = {}\n\nconst propTypes = {\n  defaultFlex: PropTypes.number,\n}\n\nexport const useFlexLayout = props => {\n  PropTypes.checkPropTypes(propTypes, props, 'property', 'useFlexLayout')\n\n  const {\n    defaultFlex = 1,\n    hooks: {\n      columns: columnsHooks,\n      getRowProps,\n      getHeaderRowProps,\n      getHeaderProps,\n      getCellProps,\n    },\n  } = props\n\n  columnsHooks.push((columns, api) => {\n    const visibleColumns = columns.filter(column => column.visible)\n    const columnMeasurements = {}\n\n    let sumWidth = 0\n    visibleColumns.forEach(column => {\n      const { width, minWidth } = getSizesForColumn(\n        column,\n        defaultFlex,\n        undefined,\n        undefined,\n        api\n      )\n      if (width) {\n        sumWidth += width\n      } else if (minWidth) {\n        sumWidth += minWidth\n      } else {\n        sumWidth += defaultFlex\n      }\n    })\n\n    const rowStyles = {\n      style: {\n        display: 'flex',\n        minWidth: `${sumWidth}px`,\n      },\n    }\n\n    api.rowStyles = rowStyles\n\n    getRowProps.push(() => rowStyles)\n    getHeaderRowProps.push(() => rowStyles)\n\n    getHeaderProps.push(column => ({\n      style: {\n        boxSizing: 'border-box',\n        ...getStylesForColumn(column, columnMeasurements, defaultFlex, api),\n      },\n    }))\n\n    getCellProps.push(cell => {\n      return {\n        style: {\n          ...getStylesForColumn(\n            cell.column,\n            columnMeasurements,\n            defaultFlex,\n            undefined,\n            api\n          ),\n        },\n      }\n    })\n\n    return columns\n  })\n\n  return props\n}\n\n// Utils\n\nfunction getStylesForColumn(column, columnMeasurements, defaultFlex, api) {\n  const { flex, width, maxWidth } = getSizesForColumn(\n    column,\n    columnMeasurements,\n    defaultFlex,\n    api\n  )\n\n  return {\n    flex: `${flex} 0 auto`,\n    width: `${width}px`,\n    maxWidth: `${maxWidth}px`,\n  }\n}\n\nfunction getSizesForColumn(\n  { columns, id, width, minWidth, maxWidth },\n  columnMeasurements,\n  defaultFlex,\n  api\n) {\n  if (columns) {\n    columns = columns\n      .filter(col => col.show || col.visible)\n      .map(column =>\n        getSizesForColumn(column, columnMeasurements, defaultFlex, api)\n      )\n      .filter(Boolean)\n\n    if (!columns.length) {\n      return false\n    }\n\n    const flex = sum(columns.map(col => col.flex))\n    const width = sum(columns.map(col => col.width))\n    const maxWidth = sum(columns.map(col => col.maxWidth))\n\n    return {\n      flex,\n      width,\n      maxWidth,\n    }\n  }\n\n  return {\n    flex: width ? 0 : defaultFlex,\n    width:\n      width === 'auto'\n        ? columnMeasurements[id] || defaultFlex\n        : getFirstDefined(width, minWidth, defaultFlex),\n    maxWidth,\n  }\n}\n","import React from 'react'\n\n// Token pagination behaves a bit differently from\n// index based pagination. This hook aids in that process.\n\nexport const useTokenPagination = () => {\n  const [pageToken, setPageToken] = React.useState()\n  const [nextPageToken, setNextPageToken] = React.useState()\n  const [previousPageTokens, setPreviousPageTokens] = React.useState([])\n  const [pageIndex, setPageIndex] = React.useState(0)\n\n  // Since we're using pagination tokens intead of index, we need\n  // to be a bit clever with page-like navigation here.\n  const nextPage = () => {\n    setPageIndex(old => old + 1)\n    setPreviousPageTokens(old => [...old, pageToken])\n    setPageToken(nextPageToken)\n  }\n\n  const previousPage = () => {\n    setPageIndex(old => old - 1)\n    setPreviousPageTokens(old =>\n      [...old]\n        .reverse()\n        .slice(1)\n        .reverse()\n    )\n    setPageToken(previousPageTokens[previousPageTokens.length - 1])\n  }\n\n  const resetPagination = () => {\n    setPageToken(undefined)\n    setPageIndex(0)\n    setNextPageToken(undefined)\n    setPreviousPageTokens([])\n  }\n\n  const canPreviousPage = previousPageTokens.length\n  const canNextPage = nextPageToken\n\n  return {\n    setNextPageToken,\n    pageToken,\n    pageIndex,\n    previousPage,\n    nextPage,\n    canPreviousPage,\n    canNextPage,\n    resetPagination,\n  }\n}\n"],"names":["getBy","obj","path","def","pathObj","makePathArray","val","reduce","cursor","pathPart","e","defaultOrderByFn","arr","funcs","dirs","sort","rowA","rowB","i","length","sortFn","desc","sortInt","index","getFirstDefined","defaultGroupByFn","rows","grouper","prev","row","resKey","values","Array","isArray","push","setBy","value","recurse","depth","key","target","subValue","flexRender","Comp","props","Object","getPrototypeOf","isReactComponent","mergeProps","groups","forEach","style","className","rest","filter","Boolean","join","applyHooks","hooks","initial","args","next","applyPropHooks","sum","curr","isFunction","a","flattenDeep","replace","split","newArr","defaultState","defaultReducer","old","newState","useTableState","initialState","overrides","reducer","useState","userUseState","React","state","setState","overriddenState","useMemo","keys","reducedSetState","useCallback","updater","type","renderErr","propTypes","data","PropTypes","array","isRequired","debug","bool","useTable","checkPropTypes","userState","process","env","NODE_ENV","beforeRender","columns","headers","headerGroups","renderableRows","getTableProps","getRowProps","getHeaderRowProps","getHeaderProps","getCellProps","api","console","time","plugins","timeEnd","undefined","column","visible","show","render","userProps","Error","id","colSpan","headerGroup","header","prepareRow","visibleColumns","cells","map","cell","columnPathStr","arrayOf","shape","Cell","any","Header","findMaxDepth","Math","max","decorateColumn","parent","accessor","accessorString","error","decorateColumnTree","makeHeaderGroups","maxDepth","removeChildColumns","buildGroup","parentColumns","hasParents","some","col","isFirst","latestParentColumn","reverse","originalID","placeholderColumn","includes","useColumns","userColumns","groupBy","info","columnTree","flattenBy","g","find","childKey","flatColumns","d","subRowsKey","string","useRows","accessedRows","accessRow","originalRow","original","subRows","unpreparedAccessWarning","actions","addActions","acts","expanded","toggleExpanded","useExpanded","manualExpandedKey","paginateSubRows","toggleExpandedByPath","set","existing","expandedRows","handleRow","parentPath","isExpanded","expandedDepth","findExpandedDepth","text","filterValue","rowValue","String","toLowerCase","exactText","exactTextCase","includesAll","every","exact","between","filters","setFilter","setAllFilters","filterFn","func","filterAll","canFilter","Filter","manualFilters","useFilters","filterTypes","userFilterTypes","defaultFilter","disableFilters","filteredRows","filterRows","entries","filteredSoFar","columnID","filterable","filterMethod","warn","average","round","toggleGroupBy","aggregate","canGroupBy","Aggregated","groupByFn","manualGrouping","aggregations","object","useGroupBy","manualGroupBy","disableGrouping","userAggregations","grouped","toggle","resolvedToggle","getGroupByToggleProps","addGroupByToggleProps","onClick","persist","title","groupedRows","aggregateRowsToValues","columnValues","groupRecursively","groupByVal","groupByID","reSplitAlphaNumeric","alphaNumeric","b","toString","aa","shift","bb","an","parseInt","bn","combo","isNaN","datetime","getTime","numeric","Infinity","sortBy","sortByChange","defaultSortDesc","orderByFn","sortTypes","defaultSortType","oneOfType","manualSorting","disableSorting","disableMultiSort","disableSortRemove","useSortBy","defaultSort","userSortTypes","canSortBy","toggleSortByID","multi","resolvedDefaultSortDesc","existingSortBy","hasDescDefined","newSortBy","action","toggleSortBy","getSortByToggleProps","addSortByToggleProps","shiftKey","sorted","sortedIndex","findIndex","sortedDesc","sortedRows","sortTypesByColumnID","sortData","sortedData","columnSort","sortMethod","pageSize","pageIndex","pageChange","pageSizeChange","manualPagination","usePagination","disablePageResetOnDataChange","userPageCount","pageCount","pageOptions","rowDep","useLayoutEffect","pages","end","slice","page","canPreviousPage","canNextPage","gotoPage","previousPage","nextPage","setPageSize","topRowIndex","floor","defaultFlex","number","useFlexLayout","columnsHooks","columnMeasurements","sumWidth","getSizesForColumn","width","minWidth","rowStyles","display","boxSizing","getStylesForColumn","flex","maxWidth","useTokenPagination","pageToken","setPageToken","nextPageToken","setNextPageToken","previousPageTokens","setPreviousPageTokens","setPageIndex","resetPagination"],"mappings":"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"}